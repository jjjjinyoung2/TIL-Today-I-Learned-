REST API(Representational State Transfer)

**μ›Ήμ—μ„ μ‚¬μ©λλ” λ°μ΄ν„°λ‚ μμ›(Resource)μ„ HTTP URIλ΅ ν‘ν„ν•κ³ , HTTP ν”„λ΅ν† μ½μ„ ν†µν•΄ μ”μ²­κ³Ό μ‘λ‹µμ„ μ •μν•λ” λ°©μ‹**

## π’΅Β λ¦¬μ°¨λ“μ¨μ REST μ„±μ™λ„ λ¨λΈ

λ μ¤λ‚λ¥΄λ“ λ¦¬μ°¨λ“μ¨(Leonard Richardson)μ€ REST API λ¥Ό μ μ μ©ν•κΈ° μ„ν• 4λ‹¨κ³„ λ¨λΈμ„ λ§λ“¤μ—λ‹¤.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aa020a18-9840-4ed1-8843-d9022a198513/Untitled.png)

- λ¨λ“  λ‹¨κ³„λ¥Ό μ¶©μ΅±ν•΄μ•Ό REST API λΌκ³  λ¶€λ¥Ό μ μλ‹¤.
- μ‹¤μ λ΅ μ—„λ°€ν•κ² 3λ‹¨κ³„κΉμ§€ μ§€ν‚¤κΈ° μ–΄λ µκΈ° λ•λ¬Έμ— 2λ‹¨κ³„κΉμ§€λ§ μ μ©ν•΄λ„ μΆ‹μ€ API λ””μμΈμ΄λΌκ³  λ³Ό μ μκ³ , μ΄λ° κ²½μ°λ¥Ό HTTP APIλΌκ³  λ¶€λ¥Έλ‹¤.

### β…Β REST μ„±μ™λ„ λ¨λΈ - 0λ‹¨κ³„

> \***\*HTTP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•κΈ°λ§ ν•΄λ„ λλ‹¤. β†’ REST APIμ μ¶λ° (κΈ°λ³Έλ‹¨κ³„)\*\***

- λ¨λ“  μ”μ²­μ—μ„ μ—”λ“ν¬μΈνΈλ΅Β `/appointment`λ¥Ό μ‚¬μ©ν•λ‹¤.
- ν•΄λ‹Ή APIλ¥Ό REST APIλΌκ³  ν•  μλ” μ—†λ‹¤.

```jsx
//Request
POST/appointment HTTP/1.1
[ν—¤λ”μƒλµ]
{
"date":"2022-06-10",
"doctor":"μ§„μ"
}

//Response
HTTP/1.1 200 OK
```

### β…Β REST μ„±μ™λ„ λ¨λΈ - 1λ‹¨κ³„

> κ°λ³„ λ¦¬μ†μ¤(Resource)μ™€μ ν†µμ‹ μ„ μ¤€μν•λ‹¤.

λ¨λ“  μμ›μ€ κ°λ³„ λ¦¬μ†μ¤μ— λ§λ” μ—”λ“ν¬μΈνΈ(Endpoint)λ¥Ό μ‚¬μ©ν•΄μ•Όν•λ©° μ”μ²­ν•κ³  λ°›λ” μμ›μ— λ€ν• μ •λ³΄λ¥Ό μ‘λ‹µμΌλ΅ μ „λ‹¬ν•΄μ•Ό ν•λ‹¤.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/65927b26-e50d-4b6d-8aa1-3f61fa347257/Untitled.png)

ex 1) μμ•½ κ°€λ¥ν• μ‹κ°„ ν™•μΈ

**μ”μ²­**->**"μ—”λ“ν¬μΈνΈ" :Β `/doctors/ν—μ¤€`**β†’**μ‘λ‹µ**: λ°μ΄ν„°(λ¦¬μ†μ¤) -> μμ‚¬ ν—μ¤€μ μμ•½ κ°€λ¥ν• μ‹κ°„λ€

ex 2) νΉμ • μ‹κ°„μ— μμ•½ **μ”μ²­**->**"μ—”λ“ν¬μΈνΈ" :Β `/slots/123`**μ‹¤μ  λ³€κ²½λλ” λ¦¬μ†μ¤ μ”μ²­

-> μμ•½μ΄ λ¶κ°€λ¥ν•  κ²½μ° ? **μ‘λ‹µ**: λ¦¬μ†μ¤ μ‚¬μ©μ— λ€ν• μ‹¤ν¨ μ—¬λ¶€λ¥Ό ν¬ν•¨ν• μ‘λ‹µμ„ λ°›λ”λ‹¤.

- μμ‹μ™€ κ°™μ΄ μ–΄λ–¤ λ¦¬μ†μ¤λ¥Ό λ³€ν™”μ‹ν‚¤λ”μ§€ νΉμ€ μ–΄λ–¤ μ‘λ‹µμ΄ μ κ³µλλ”μ§€μ— λ”°λΌ κ°κΈ° λ‹¤λ¥Έ μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•κΈ° λ•λ¬Έμ— μ μ ν• μ—”λ“ν¬μΈνΈλ¥Ό μ‘μ„±ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.
- κ°λ³„ λ¦¬μ†μ¤μ— λ§λ”Β **μ—”λ“ν¬μΈνΈ(Endpoint)**λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤λ” κ²ƒκ³Ό μ”μ²­ν•κ³  λ°›μ€ μμ›μ— λ€ν• μ •λ³΄λ¥Ό μ‘λ‹µμΌλ΅ μ „λ‹¬ν•΄μ•Ό ν•λ‹¤.μ΄λ• μ‘λ‹µμΌλ΅ λ¦¬μ†μ¤λ¥Ό μ „λ‹¬ν•  λ•λ„ μ‚¬μ©ν• λ¦¬μ†μ¤μ— λ€ν• μ •λ³΄μ™€ ν•¨κ» λ¦¬μ†μ¤ μ‚¬μ©μ— λ€ν•Β **μ„±κ³µ/μ‹¤ν¨ μ—¬λ¶€λ¥Ό λ°ν™**
  ν•΄μ•Ό ν•©λ‹λ‹¤.
- μ—”λ“ν¬μΈνΈ μ‘μ„±λ°©λ²• : λ™μ‚¬, HTTPλ©”μ„λ“, μ–΄λ–¤ ν–‰μ„μ— λ€ν• λ‹¨μ–΄μ‚¬μ© μ§€μ–‘
  β‡’ λ¦¬μ†μ¤μ— μ§‘μ¤‘ν•΄ λ…μ‚¬ ν•νƒμ λ‹¨μ–΄λ΅ μ‘μ„±

### β…Β REST μ„±μ™λ„ λ¨λΈ - 2λ‹¨κ³„

> CRUD(Create, Read, Update, Delete)μ— λ§κ² μ μ ν• HTTP λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ— μ¤‘μ 

- StatusCodeλ„ ν™μ©ν•μ—¬ λ°ν™
- κ΄€λ ¨ λ¦¬μ†μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈκ°€ `Location` ν—¤λ”μ— μ‘μ„±λ URIλ¥Ό ν†µν•΄ ν™•μΈν•  μ μλ„λ΅ ν•λ©΄ μ™„λ²½ν•κ² REST μ„±μ™λ„ λ¨λΈμ 2λ‹¨κ³„λ¥Ό μ¶©μ΅±ν–λ‹¤κ³  λ³Ό μ μλ‹¤.
- ν„μ¬ κ°€μ¥ λ§μ€ REST APIκ°€ μ΄ λ‹¨κ³„μ— ν•΄λ‹Ήν•λ‹¤κ³  ν•λ‹¤.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/92afcfac-d1ad-40a2-9907-f1b34359dfb4/Untitled.png)

ex 1) μμ•½ κ°€λ¥ν• μ‹κ°„μ„ μ΅°ν(READ)ν•κΈ° μ„ν•΄Β **`GET`**Β λ΅ μ”μ²­β†’Β `GET`Β λ©”μ†λ“λ”Β `body`λ¥Ό κ°€μ§€μ§€ μ•κΈ° λ•λ¬Έμ—Β **query parameter**λ¥Ό μ‚¬μ©ν•μ—¬ λ¦¬μ†μ¤ μ „λ‹¬->Β **μ‘λ‹µ**: λ°μ΄ν„°(λ¦¬μ†μ¤) -> μμ‚¬ ν—μ¤€μ μμ•½ κ°€λ¥ν• μ‹κ°„λ€

ex 2) νΉμ • μ‹κ°„μ— μμ•½μ„ μƒμ„±(CREATE)ν•κΈ° μ„ν•΄Β **`POST`**Β λ΅ μ”μ²­β†’Β **μ‘λ‹µ**Β : μƒλ΅­κ² μƒμ„±λ λ¦¬μ†μ¤ β†’ μƒνƒμ½”λ“Β **`201 Created`**Β λ΅ λ…ν™•ν•κ²!

[HTTP λ©”μ„λ“](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods) μ‚¬μ© κ·μΉ™

- `GET` λ©”μ„λ“ κ°™μ€ κ²½μ°λ” μ„λ²„μ λ°μ΄ν„°λ¥Ό λ³€ν™”μ‹ν‚¤μ§€ μ•λ” μ”μ²­μ— μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.
- `POST` λ©”μ„λ“λ” μ”μ²­λ§λ‹¤ μƒλ΅μ΄ λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•κ³  `PUT` λ©”μ„λ“λ” μ”μ²­λ§λ‹¤ κ°™μ€ λ¦¬μ†μ¤λ¥Ό λ°ν™ν•©λ‹λ‹¤. μ΄λ ‡κ² λ§¤ μ”μ²­λ§λ‹¤ κ°™μ€ λ¦¬μ†μ¤λ¥Ό λ°ν™ν•λ” νΉμ§•μ„ λ©±λ“±([idempotent](https://developer.mozilla.org/en-US/docs/Glossary/Idempotent))ν•λ‹¤κ³  ν•©λ‹λ‹¤. κ·Έλ ‡κΈ° λ•λ¬Έμ— λ©±λ“±μ„±μ„ κ°€μ§€λ” λ©”μ„λ“ `PUT`κ³Ό κ·Έλ ‡μ§€ μ•μ€ λ©”μ„λ“`POST`λ” κµ¬λ¶„ν•μ—¬ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.
- `PUT` λ©”μ„λ“μ™€ `PATCH` λ©”μ„λ“λ„ κµ¬λ¶„ν•μ—¬ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤. `PUT`μ€ κµμ²΄, `PATCH`λ” μμ •μ μ©λ„λ΅ μ‚¬μ©ν•©λ‹λ‹¤.

### β…Β REST μ„±μ™λ„ λ¨λΈ - 3λ‹¨κ³„

> HATEOAS,Β ν•μ΄νΌλ―Έλ””μ–΄ μ»¨νΈλ΅¤(Hypertext As The Engine Of Application State)μ„ μ μ©ν•λ‹¤.

- 2λ‹¨κ³„μ™€ κ±°μ λ™μΌν•μ§€λ§,Β **μ‘λ‹µμ—λ” λ¦¬μ†μ¤μ URIλ¥Ό ν¬ν•¨ν• λ§ν¬λ¥ΌΒ λ„£μ–΄Β μƒλ΅μ΄Β κΈ°λ¥μ— μ ‘κ·Όν•  μ μλ„λ΅ ν•λ” κ²ƒμ΄ 3λ‹¨κ³„μ μ¤‘μ” ν¬μΈνΈ**μ΄λ‹¤.
- **μ‘λ‹µμ— λ“¤μ–΄κ°€κ² λλ” λ§ν¬ μ”μ†**Β : μ‘λ‹µμ„ λ°›μ€ λ‹¤μμ— ν• Β μΒ μλ”Β λ‹¤μ–‘ν•Β ν–‰λ™ μ„Β μ„ν•΄Β λ§μ€Β ν•μ΄νΌλ―Έλ””μ–΄Β μ»¨νΈλ΅¤μ„Β ν¬ν•¨,

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/769b4262-bfdb-49ba-8afe-bd1af245c96a/Untitled.png)

ex) μμ•½ κ°€λ¥ μ‹κ°„μ„ ν™•μΈΒ **μ”μ²­**->Β **μ‘λ‹µ** : μμ•½μ„ ν•  μ μλ” λ§ν¬λ¥Ό μ‚½μ…ν•μ—¬ μ‘λ‹µ

# Open API

- λ„κµ¬λ‚ μ‚¬μ© ν•  μ μλ„λ΅ κ³µκ°λ API(λ¬΄μ ν•μΌλ΅ μ΄μ©ν•  μ μλ‹¤λ” κ±΄ μ•„λ‹)
- Open API μ΄λ”λΌλ„ μ •ν•΄μ§„ μ΄μ© μμΉ™μ΄ μκ³ , κ·Έμ— λ”°λΌ μ ν•μ‚¬ν•­ (κ°€κ²©, μ •λ³΄ λ“±) μ΄ μλ‹¤.

# \***\*API Key\*\***

- μ„λ²„μ λ¬Έμ„ μ—¬λ” μ—΄μ‡ 
- APIλ¥Ό μ΄μ©ν•κΈ° μ„ν•΄μ„λ” **API Key** κ°€ ν•„μ”(ν•„μ”ν•μ§€ μ•μ€ κ²½μ°λ„ μλ‹¤.)
- API Keyκ°€ ν•„μ”ν• κ²½μ°μ—λ” λ΅κ·ΈμΈν• μ΄μ©μμ—κ² μμ›μ— μ ‘κ·Όν•  μ μλ” κ¶ν•μ„ API Keyμ ν•νƒλ΅ μ κ³µν•κ³ , λ°μ΄ν„°λ¥Ό μ”μ²­ν•  λ• API keyλ¥Ό κ°™μ΄ μ „λ‹¬ν•΄μ•Ό μ›ν•λ” μ‘λ‹µμ„ λ°›μ„ μ μλ‹¤.

### λ νΌλ°μ¤

- [κµ¬κΈ€ REST API μ‘μ„± κ°€μ΄λ“λΌμΈ](https://cloud.google.com/apis/design/resources?hl=ko)
- [λ§μ΄ν¬λ΅μ†ν”„νΈ REST API μ‘μ„± κ°€μ΄λ“λΌμΈ](https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md)
